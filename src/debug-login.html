<!DOCTYPE html>
<html>
<head>
    <title>Firebase Login Debug</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Firebase Login Debug Page</h1>
    <p>‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Firebase ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á</p>
    <button id="loginButton" style="font-size: 18px; padding: 10px 20px;">
        Test Login with Google
    </button>

    <script type="module">
        // üí° ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ Firebase SDK ‡∏à‡∏≤‡∏Å CDN
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";

        // ==========================================================
        // üí° ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ß‡∏≤‡∏á firebaseConfig ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
        // ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå .env.local ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ VITE_ ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤)
        // ==========================================================
        const firebaseConfig = {
            apiKey: "AIzaSyCbLOLR4KqlWaGOfvZesdVVgFzlyDluPkI",
            authDomain: "sccc-inseesafety-prod.firebaseapp.com",
            projectId: "sccc-inseesafety-prod",
            storageBucket: "sccc-inseesafety-prod.firebasestorage.app",
            messagingSenderId: "874085997493",
            appId: "1:874085997493:web:5156272fd22b224b5097fc"

        };
        // ==========================================================

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        // Function to handle login
        async function login() {
            console.log("Attempting to sign in with Google...");
            try {
                const result = await signInWithPopup(auth, provider);
                const user = result.user;
                console.log("‚úÖ SUCCESS! Logged in as:", user.displayName);
                console.log("Email:", user.email);
                alert("Login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: " + user.displayName);
            } catch (error) {
                console.error("‚ùå FAILED! An error occurred:", error);
                alert("Login ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß! ‡∏î‡∏π Error ‡πÉ‡∏ô Console (F12)");
            }
        }

        // Add event listener to the button
        document.getElementById('loginButton').addEventListener('click', login);
    </script>
</body>
</html>